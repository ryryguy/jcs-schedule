@(league:League, teams:Map[Long, Team], season:Option[Season], nextSeason:Option[Season], lastWeek:Option[Week], nextWeek:Option[Week])

@import helper._
@import tags._

@main(title = "JCS Schedule & Scores - " + league.name) {
<h2>@league.name: @league.description at @league.location</h2>

<p><h3 align="center">Current Season -

    @season match {
    case Some(s) => {Started on @s.start_date.toString("MM/dd/yy")</h3>
<p class="clear"/>

<div id="tabs" style="width: 100%">
    <ul>
        <li><a href="#recent">Recent</a></li>
        <li><a href="#teams">Teams</a></li>
        <li><a href="@routes.SeasonController.schedule(s.id.get)">Complete Schedule</a></li>
        <li><a href="@routes.SeasonController.standings(s.id.get)">Standings</a></li>
    </ul>


    <div id="recent">
        @week(lastWeek, "Last Week's Games", teams)
        <br>
        @week(nextWeek, "Next Week's Games", teams)
    </div>

    <div id="teams">
        @for((_,team) <- teams) {
        <p>
            @team.name <i>(@team.captainName)</i>
            <a href="@routes.SeasonController.teamSchedule(season.get.id.get, team.id.get)">schedule</a>
        </p>
        }
    </div>

</div>

<p class="clear"/>}
case None => {None</h3>}
}

@hline()

<p><h3 align="center">Next Season -
    @nextSeason match {
    case Some(s) => {Will start on on @s.start_date.toString("MM/dd/yy")}
    case None => {Not scheduled yet}
    } </h3>

@boardpanel {
<div>
    <h3>Edit this league:</h3>

    <p>TODO: Edit league form, add season, add/remove teams, email captains</p>

    <p></p>

    <h3>League News</h3>

    <p>TODO (maybe)</p>

</div>

<script>
    $(function () {
        $("#tabs").tabs({cache: true, ajaxOptions: {cache: false}});
    });
</script>

}
}
